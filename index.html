<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Essentia Kids - Fragancias Artesanales</title>
    <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --naranja-primary: #FF6B35;
            --naranja-light: #FF8C61;
            --naranja-dark: #E85A2B;
            --amarillo: #FFC857;
            --crema: #FFF5E1;
            --coral: #FF9F80;
            --texto: #2C3E50;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--crema) 0%, #FFE8D6 100%);
            color: var(--texto);
            min-height: 100vh;
        }

        /* Header y Navegación */
        header {
            background: linear-gradient(135deg, var(--naranja-primary) 0%, var(--naranja-dark) 100%);
            box-shadow: 0 4px 20px rgba(255, 107, 53, 0.3);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        nav {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .logo span {
            color: var(--amarillo);
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
            padding: 0.5rem 1rem;
            border-radius: 25px;
        }

        .nav-links a:hover, .nav-links a.active {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .menu-toggle {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Secciones */
        section {
            display: none;
            max-width: 1200px;
            margin: 0 auto;
            padding: 3rem 2rem;
            animation: fadeIn 0.5s;
        }

        section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Home */
        .hero {
            text-align: center;
            padding: 3rem 1rem;
            background: white;
            border-radius: 30px;
            box-shadow: 0 10px 40px rgba(255, 107, 53, 0.2);
            margin-bottom: 3rem;
        }

        .hero h1 {
            font-size: 3rem;
            color: var(--naranja-primary);
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .hero p {
            font-size: 1.3rem;
            color: var(--texto);
            margin-bottom: 2rem;
        }

        .qr-scanner-section {
            background: white;
            border-radius: 30px;
            padding: 2rem;
            box-shadow: 0 10px 40px rgba(255, 107, 53, 0.2);
            text-align: center;
        }

        .qr-scanner-section h2 {
            color: var(--naranja-primary);
            margin-bottom: 1.5rem;
            font-size: 2rem;
        }

        #reader {
            max-width: 500px;
            margin: 0 auto;
            border-radius: 20px;
            overflow: hidden;
            display: none;
        }

        .btn {
            background: linear-gradient(135deg, var(--naranja-primary) 0%, var(--naranja-dark) 100%);
            color: white;
            border: none;
            padding: 1rem 2.5rem;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(255, 107, 53, 0.3);
            font-weight: bold;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255, 107, 53, 0.4);
        }

        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        /* Quiénes Somos */
        .about-content {
            background: white;
            border-radius: 30px;
            padding: 3rem;
            box-shadow: 0 10px 40px rgba(255, 107, 53, 0.2);
        }

        .about-content h2 {
            color: var(--naranja-primary);
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
        }

        .about-content p {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 1.5rem;
        }

        .values {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .value-card {
            background: linear-gradient(135deg, var(--coral) 0%, var(--naranja-light) 100%);
            padding: 2rem;
            border-radius: 20px;
            text-align: center;
            color: white;
            box-shadow: 0 5px 15px rgba(255, 107, 53, 0.3);
        }

        .value-card h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        /* Productos */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .product-card {
            background: white;
            border-radius: 25px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(255, 107, 53, 0.2);
            transition: all 0.3s;
            cursor: pointer;
        }

        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(255, 107, 53, 0.3);
        }

        .product-image {
            height: 250px;
            background: linear-gradient(135deg, var(--naranja-light) 0%, var(--amarillo) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5rem;
        }

        .product-info {
            padding: 1.5rem;
        }

        .product-info h3 {
            color: var(--naranja-primary);
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .product-info p {
            color: var(--texto);
            margin-bottom: 1rem;
        }

        .product-price {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--naranja-dark);
            margin-bottom: 1rem;
        }

        /* Detalle de Producto */
        .product-detail {
            background: white;
            border-radius: 30px;
            padding: 3rem;
            box-shadow: 0 10px 40px rgba(255, 107, 53, 0.2);
        }

        .product-detail-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
        }

        .product-detail-image {
            height: 400px;
            background: linear-gradient(135deg, var(--naranja-light) 0%, var(--amarillo) 100%);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 8rem;
        }

        .product-detail-info h2 {
            color: var(--naranja-primary);
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .product-detail-info .price {
            font-size: 2rem;
            color: var(--naranja-dark);
            font-weight: bold;
            margin-bottom: 1.5rem;
        }

        .product-detail-info p {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 2rem;
        }

        .btn-back {
            background: #6c757d;
            margin-right: 1rem;
        }

        /* Contacto */
        .contact-content {
            background: white;
            border-radius: 30px;
            padding: 3rem;
            box-shadow: 0 10px 40px rgba(255, 107, 53, 0.2);
        }

        .contact-content h2 {
            color: var(--naranja-primary);
            font-size: 2.5rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .contact-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
        }

        .contact-info {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .contact-item {
            background: linear-gradient(135deg, var(--crema) 0%, #FFE8D6 100%);
            padding: 1.5rem;
            border-radius: 15px;
            border-left: 5px solid var(--naranja-primary);
        }

        .contact-item h3 {
            color: var(--naranja-primary);
            margin-bottom: 0.5rem;
        }

        .contact-form {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            color: var(--naranja-primary);
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .form-group input,
        .form-group textarea {
            padding: 1rem;
            border: 2px solid var(--coral);
            border-radius: 10px;
            font-size: 1rem;
            font-family: inherit;
            transition: all 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--naranja-primary);
            box-shadow: 0 0 10px rgba(255, 107, 53, 0.2);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 150px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .menu-toggle {
                display: block;
            }

            .nav-links {
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: var(--naranja-primary);
                flex-direction: column;
                padding: 1.5rem 1rem;
                gap: 0.5rem;
                display: none;
                box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            }

            .nav-links.active {
                display: flex;
            }

            .nav-links a {
                padding: 1rem;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .products-grid {
                grid-template-columns: 1fr;
            }

            .product-detail-content {
                grid-template-columns: 1fr;
            }

            .contact-grid {
                grid-template-columns: 1fr;
            }

            .values {
                grid-template-columns: 1fr;
            }
        }

        .message {
            padding: 1rem;
            border-radius: 10px;
            margin-top: 1rem;
            text-align: center;
            font-weight: bold;
        }

        .message.success {
            background: #d4edda;
            color: #155724;
        }

        .message.error {
            background: #f8d7da;
            color: #721c24;
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">Essentia <span>Kids</span></div>
            <button class="menu-toggle" onclick="toggleMenu()">☰</button>
            <ul class="nav-links" id="navLinks">
                <li><a href="#" class="nav-link active" data-section="home">Home</a></li>
                <li><a href="#" class="nav-link" data-section="about">Quiénes Somos</a></li>
                <li><a href="#" class="nav-link" data-section="products">Productos</a></li>
                <li><a href="#" class="nav-link" data-section="contact">Contacto</a></li>
            </ul>
        </nav>
    </header>

    <!-- HOME -->
    <section id="home" class="active">
        <div class="hero">
            <h1>🌸 Esencias Mágicas 🌸</h1>
            <p>Fragancias artesanales creadas con amor por pequeños artesanos</p>
        </div>

        <div class="qr-scanner-section">
            <h2>📱 Escanea el QR del Producto</h2>
            <p style="color: var(--texto); margin-bottom: 2rem;">
                Escanea el código QR en tu producto físico para ver más detalles
            </p>
            <button class="btn" id="startScanBtn" onclick="startScanner()">
                Activar Cámara 📷
            </button>
            <button class="btn" id="stopScanBtn" onclick="stopScanner()" style="display: none; background: #6c757d;">
                Detener Cámara ✕
            </button>
            <div id="reader"></div>
            <div id="scanMessage"></div>
        </div>
    </section>

    <!-- QUIÉNES SOMOS -->
    <section id="about">
        <div class="about-content">
            <h2>🌟 Quiénes Somos</h2>
            <p>
                <strong>Essentia Kids</strong> nació del sueño de un grupo de niños emprendedores que 
                descubrieron la magia de crear fragancias naturales. Con la guía de sus familias, 
                estos pequeños artesanos elaboran cada esencia de forma artesanal, utilizando 
                ingredientes naturales y mucho amor.
            </p>
            <p>
                Cada fragancia cuenta una historia única y refleja la creatividad e imaginación 
                de nuestros jóvenes creadores. Más que un producto, cada esencia es una obra de 
                arte que invita a explorar el mundo de los aromas naturales.
            </p>

            <div class="values">
                <div class="value-card">
                    <h3>🌿 Natural</h3>
                    <p>Ingredientes 100% naturales y seguros</p>
                </div>
                <div class="value-card">
                    <h3>❤️ Artesanal</h3>
                    <p>Hecho a mano con dedicación</p>
                </div>
                <div class="value-card">
                    <h3>🎨 Creativo</h3>
                    <p>Fragancias únicas e imaginativas</p>
                </div>
            </div>
        </div>
    </section>

    <!-- PRODUCTOS -->
    <section id="products">
        <h2 style="text-align: center; color: var(--naranja-primary); font-size: 2.5rem; margin-bottom: 3rem;">
            Nuestras Fragancias ✨
        </h2>
        <div class="products-grid" id="productsGrid"></div>
    </section>

    <!-- DETALLE DE PRODUCTO -->
    <section id="product-detail">
        <div class="product-detail" id="productDetailContent"></div>
    </section>

    <!-- CONTACTO -->
    <section id="contact">
        <div class="contact-content">
            <h2>📧 Contáctanos</h2>
            <div class="contact-grid">
                <div class="contact-info">
                    <div class="contact-item">
                        <h3>📍 Dirección</h3>
                        <p>Calle de los Sueños #123<br>Ciudad Mágica, País</p>
                    </div>
                    <div class="contact-item">
                        <h3>📱 Teléfono</h3>
                        <p>+123 456 7890</p>
                    </div>
                    <div class="contact-item">
                        <h3>✉️ Email</h3>
                        <p>hola@essentiakids.com</p>
                    </div>
                    <div class="contact-item">
                        <h3>⏰ Horario</h3>
                        <p>Lunes a Viernes: 9:00 AM - 6:00 PM<br>Sábados: 10:00 AM - 2:00 PM</p>
                    </div>
                </div>

                <form class="contact-form" onsubmit="submitForm(event)">
                    <div class="form-group">
                        <label>Nombre</label>
                        <input type="text" required placeholder="Tu nombre">
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" required placeholder="tu@email.com">
                    </div>
                    <div class="form-group">
                        <label>Mensaje</label>
                        <textarea required placeholder="Cuéntanos cómo podemos ayudarte..."></textarea>
                    </div>
                    <button type="submit" class="btn">Enviar Mensaje 📨</button>
                    <div id="formMessage"></div>
                </form>
            </div>
        </div>
    </section>

    <script>
        // Datos de productos
        const products = [
            {
                id: 'citrus-dream',
                name: 'Sueño Cítrico',
                emoji: '🍊',
                price: '$12.99',
                description: 'Una explosión de energía con notas de naranja y mandarina que te transporta a un jardín soleado lleno de árboles frutales.'
            },
            {
                id: 'vanilla-cloud',
                name: 'Nube de Vainilla',
                emoji: '☁️',
                price: '$14.99',
                description: 'Suave y reconfortante, como flotar en una nube dulce. Perfecta para crear un ambiente acogedor y relajante.'
            },
            {
                id: 'forest-magic',
                name: 'Magia del Bosque',
                emoji: '🌲',
                price: '$13.99',
                description: 'Aromas frescos y naturales de pino y hierbas que te llevan a un paseo por el bosque encantado.'
            },
            {
                id: 'ocean-breeze',
                name: 'Brisa Marina',
                emoji: '🌊',
                price: '$13.50',
                description: 'Frescura del océano con toques de sal marina y algas. Cierra los ojos y escucha las olas del mar.'
            },
            {
                id: 'lavender-sunset',
                name: 'Atardecer de Lavanda',
                emoji: '🌸',
                price: '$15.99',
                description: 'Calma y serenidad con lavanda francesa pura. Ideal para relajarse después de un día de aventuras.'
            },
            {
                id: 'honey-garden',
                name: 'Jardín de Miel',
                emoji: '🍯',
                price: '$14.50',
                description: 'Dulce y floral, como caminar por un jardín lleno de flores visitadas por abejas laboriosas.'
            }
        ];

        let html5QrCode;
        let currentProductId = null;

        // Navegación
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const sectionId = link.dataset.section;
                showSection(sectionId);
                
                document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                link.classList.add('active');
                
                if (window.innerWidth <= 768) {
                    document.getElementById('navLinks').classList.remove('active');
                }
            });
        });

        function toggleMenu() {
            document.getElementById('navLinks').classList.toggle('active');
        }

        function showSection(sectionId) {
            document.querySelectorAll('section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');
            
            if (html5QrCode && html5QrCode.isScanning) {
                stopScanner();
            }
        }

        // Mostrar productos
        function displayProducts() {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = products.map(product => `
                <div class="product-card" onclick="showProductDetail('${product.id}')">
                    <div class="product-image">${product.emoji}</div>
                    <div class="product-info">
                        <h3>${product.name}</h3>
                        <p>${product.description.substring(0, 80)}...</p>
                        <div class="product-price">${product.price}</div>
                        <button class="btn">Ver Detalles</button>
                    </div>
                </div>
            `).join('');
        }

        function showProductDetail(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            currentProductId = productId;
            const detailContent = document.getElementById('productDetailContent');
            
            detailContent.innerHTML = `
                <div class="product-detail-content">
                    <div class="product-detail-image">${product.emoji}</div>
                    <div class="product-detail-info">
                        <h2>${product.name}</h2>
                        <div class="price">${product.price}</div>
                        <p>${product.description}</p>
                        <p><strong>Características:</strong></p>
                        <ul style="margin-left: 1.5rem; margin-bottom: 2rem; line-height: 1.8;">
                            <li>100% natural y artesanal</li>
                            <li>Hecho con amor por niños emprendedores</li>
                            <li>Sin químicos dañinos</li>
                            <li>Contenido: 50ml</li>
                        </ul>
                        <button class="btn btn-back" onclick="showSection('products')">← Volver</button>
                        <button class="btn">Agregar al Carrito 🛒</button>
                    </div>
                </div>
            `;
            
            showSection('product-detail');
        }

        // Scanner QR
        function startScanner() {
            const reader = document.getElementById('reader');
            const startBtn = document.getElementById('startScanBtn');
            const stopBtn = document.getElementById('stopScanBtn');
            const message = document.getElementById('scanMessage');
            
            reader.style.display = 'block';
            startBtn.style.display = 'none';
            stopBtn.style.display = 'inline-block';
            message.innerHTML = '<p style="color: var(--naranja-primary); margin-top: 1rem;">Cámara activada. Enfoca el código QR...</p>';

            html5QrCode = new Html5Qrcode("reader");
            
            html5QrCode.start(
                { facingMode: "environment" },
                { fps: 10, qrbox: { width: 250, height: 250 } },
                (decodedText) => {
                    // El QR puede contener solo el ID del producto o una URL completa
                    let productId = decodedText;
                    
                    // Si es una URL, extraer el ID del producto
                    if (decodedText.includes('product=')) {
                        const urlParams = new URLSearchParams(decodedText.split('?')[1]);
                        productId = urlParams.get('product');
                    } else if (decodedText.includes('/')) {
                        // Si es una ruta, tomar la última parte
                        productId = decodedText.split('/').pop();
                    }
                    
                    const product = products.find(p => p.id === productId);
                    
                    if (product) {
                        message.innerHTML = `<div class="message success">✅ Producto encontrado: ${product.name}</div>`;
                        stopScanner();
                        setTimeout(() => showProductDetail(productId), 1000);
                    } else {
                        message.innerHTML = `<div class="message error">❌ Código QR no válido. Asegúrate de usar un QR de Essentia Kids.</div>`;
                    }
                }
            ).catch(err => {
                message.innerHTML = '<div class="message error">Error al acceder a la cámara. Verifica los permisos.</div>';
                console.error(err);
            });
        }

        function stopScanner() {
            if (html5QrCode && html5QrCode.isScanning) {
                html5QrCode.stop().then(() => {
                    const reader = document.getElementById('reader');
                    const startBtn = document.getElementById('startScanBtn');
                    const stopBtn = document.getElementById('stopScanBtn');
                    
                    reader.style.display = 'none';
                    startBtn.style.display = 'inline-block';
                    stopBtn.style.display = 'none';
                }).catch(err => console.error(err));
            }
        }

        // Formulario de contacto
        function submitForm(e) {
            e.preventDefault();
            const message = document.getElementById('formMessage');
            message.innerHTML = '<div class="message success">✅ Mensaje enviado correctamente. Te responderemos pronto!</div>';
            e.target.reset();
            
            setTimeout(() => {
                message.innerHTML = '';
            }, 5000);
        }

        // Inicializar
        displayProducts();

        // Verificar si se accedió mediante QR (parámetro en la URL)
        window.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const productId = urlParams.get('product');
            
            if (productId) {
                const product = products.find(p => p.id === productId);
                if (product) {
                    showProductDetail(productId);
                }
            }
        });

        // Instrucciones para generar QR
        console.log('=== CÓDIGOS QR PARA PRODUCTOS ===');
        console.log('Genera códigos QR con estas URLs (cada QR debe tener su propia URL):');
        console.log('');
        products.forEach(p => {
            console.log(`📦 ${p.name}:`);
            console.log(`   ${window.location.origin}${window.location.pathname}?product=${p.id}`);
            console.log('');
        });
        console.log('Cada QR debe apuntar a una URL diferente para redirigir al producto correcto.');
        console.log('Puedes generar los QR en: qr-code-generator.com o qrcode-monkey.com');
    </script>
</body>
</html>